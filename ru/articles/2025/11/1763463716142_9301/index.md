---
# -------------------------------------------------------------------------------------------------------------------- #
# GENERAL
# -------------------------------------------------------------------------------------------------------------------- #

title: 'PostgreSQL: Импорт'
description: ''
icon: 'far fa-file-lines'
categories:
  - 'postgresql'
tags:
  - 'postgresql'
  - 'import'
authors:
  - 'KaiKimera'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# DATE
# -------------------------------------------------------------------------------------------------------------------- #

date: '2025-11-18T14:01:56+03:00'
publishDate: '2025-11-18T14:01:56+03:00'
lastMod: '2025-11-18T14:01:56+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# META
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: 'c6f9421d7d6010cfcebf066792e43d751c4ba59b'
uuid: 'c6f9421d-7d60-50cf-9ebf-066792e43d75'
slug: 'c6f9421d-7d60-50cf-9ebf-066792e43d75'

draft: 1
---

Работа с импортом баз данных в {{< tag "PostgreSQL" >}}.

<!--more-->

- Удалить старую базу данных `DB_NAME` (при необходимости):

```bash
sudo -u 'postgres' dropdb --if-exists 'DB_NAME'
```

- Создать новую базу данных `DB_NAME` с владельцем `DB_USER`:

```bash
sudo -u 'postgres' createdb --owner='DB_USER' 'DB_NAME'
```

- Восстановить данные в новую базу данных `DB_NAME` под пользователем `DB_USER` из файла `DB_NAME.sql.xz`:

```bash
u='DB_USER'; d='DB_NAME'; f="${d}.sql"; xz -d "${f}.xz" && psql --host='127.0.0.1' --port='5432' --username="${u}" --dbname="${d}" --file="${f}" --no-psqlrc --single-transaction
```
